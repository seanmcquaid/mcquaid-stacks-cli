(()=>{var e={};e.id=358,e.ids=[358],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},7940:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>h,tree:()=>l}),s(3224),s(7260),s(4195),s(8562),s(179);var r=s(3152),i=s(5102),a=s(3041),n=s.n(a),o=s(2685),u={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>o[e]);s.d(t,u);let l=["",{children:["react-query",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3224)),"/Users/sean.mcquaid/Development/scaffolding-templates/src/templates/next/src/app/react-query/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7260)),"/Users/sean.mcquaid/Development/scaffolding-templates/src/templates/next/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,4195)),"/Users/sean.mcquaid/Development/scaffolding-templates/src/templates/next/src/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,8562)),"/Users/sean.mcquaid/Development/scaffolding-templates/src/templates/next/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,179)),"/Users/sean.mcquaid/Development/scaffolding-templates/src/templates/next/src/app/not-found.tsx"]}],c=["/Users/sean.mcquaid/Development/scaffolding-templates/src/templates/next/src/app/react-query/page.tsx"],d="/react-query/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/react-query/page",pathname:"/react-query",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6542:(e,t,s)=>{Promise.resolve().then(s.bind(s,4112))},4112:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var r=s(4638),i=s(8639),a=s(1188),n=s(2559),o=s.n(n),u=s(4340);let l=e=>r.jsx(o(),{...e,className:(0,u.cn)((0,a.d)({variant:e.variant,size:e.size,className:e.className})),children:e.children});var c=s(4940),d=s(1682),p=s(6659),h=s(1571),m=s(9617),x=s(2183),g=s(6270),f=class extends x.l{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,g.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,g.Ym)(t.mutationKey)!==(0,g.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#i(),this.#a()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#i(){let e=this.#s?.state??(0,h.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){m.V.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s),this.#r.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s),this.#r.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}},y=s(2543),v=s(457),b=s(4044),P=s(2405);let q=()=>{let e=(0,d.NL)(),{toast:t}=(0,P.pm)();return function(e,t){let s=(0,d.NL)(void 0),[r]=p.useState(()=>new f(s,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);let i=p.useSyncExternalStore(p.useCallback(e=>r.subscribe(m.V.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=p.useCallback((e,t)=>{r.mutate(e,t).catch(y.Z)},[r]);if(i.error&&(0,y.L)(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}({mutationFn:async e=>v.Z.deletePost(e),onSuccess:()=>{e.invalidateQueries({queryKey:[b.Z.GET_POSTS]}),t({title:"I got deleted"})}})};var S=s(8574);let j=()=>({queryKey:[b.Z.GET_POSTS],queryFn:()=>v.Z.getPosts()}),O=e=>(0,S.a)({...j(),initialData:e}),M=()=>{let{t:e}=(0,c.Z)(),{data:t,isLoading:s,isError:n}=O(),{mutate:o,isPending:u}=q();return(0,r.jsxs)(i.Z,{isLoading:s,isError:n,children:[r.jsx("h1",{children:e("ReactQueryPage.title")}),r.jsx("ul",{className:"grid grid-cols-2",children:t?.map(t=>r.jsxs("li",{className:"flex mt-4 items-center",children:[t.title.substring(0,5),r.jsx(a.z,{onClick:()=>o(t.id.toString()),disabled:u,className:"ml-4",children:e("ReactQueryPage.delete")}),r.jsx(l,{href:`${e("Routes.reactQuery")}/${t.id}`,className:"ml-4",children:e("ReactQueryPage.view")})]},t.id))})]})}},8639:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(4638),i=s(3671),a=s(6585);let n=()=>r.jsx(a.Z,{className:"animate-spin"}),o=({children:e,isLoading:t,isError:s,errorText:a,errorTitleText:o})=>t?r.jsx("div",{className:"flex h-full w-full items-center justify-center",children:r.jsx(n,{})}):s?r.jsx(i.default,{errorText:a,titleText:o}):r.jsx("div",{className:"flex h-full w-full p-8 flex-col",children:e})},4044:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r={GET_POST:"getPost",GET_POSTS:"getPosts"}},457:(e,t,s)=>{"use strict";let r;s.d(t,{Z:()=>u});var i=s(220),a=s(1174);let n=i.z.object({userId:i.z.number(),id:i.z.number(),title:i.z.string(),body:i.z.string()}),o=(r="https://jsonplaceholder.typicode.com",a.ZP.create({prefixUrl:r,retry:{limit:2,statusCodes:[401,403,500,504],methods:["get","put","head","delete","options","trace","post","patch"]},hooks:{afterResponse:[async(e,t,s)=>{if(!s.ok||!t.validationSchema)return s;let r=await s.json(),i=t.validationSchema.safeParse(r);return i.success?new Response(JSON.stringify(i.data)):new Response(JSON.stringify({validationErrors:i.error}),{status:422,statusText:"API Validation Error"})}],beforeError:[async e=>{try{let t=await e.response.json();return e.responseData=t,e}catch(t){return e}}]}})),u={getPosts:()=>o.get("posts",{validationSchema:i.z.array(n)}).json(),getPost:e=>o.get(`posts/${e}`,{validationSchema:n}).json(),deletePost:e=>o.delete(`posts/${e}`)}},3224:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});var r=s(6325);let i=(0,r.createProxy)(String.raw`/Users/sean.mcquaid/Development/scaffolding-templates/src/templates/next/src/app/react-query/page.tsx`),{__esModule:a,$$typeof:n}=i;i.default;let o=(0,r.createProxy)(String.raw`/Users/sean.mcquaid/Development/scaffolding-templates/src/templates/next/src/app/react-query/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[945,220,584,697],()=>s(7940));module.exports=r})();